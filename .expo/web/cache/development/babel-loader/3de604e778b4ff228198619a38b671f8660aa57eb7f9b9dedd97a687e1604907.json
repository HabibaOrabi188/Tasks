{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlinePropManager = void 0;\nexports.getInlineStyle = getInlineStyle;\nexports.hasInlineStyles = hasInlineStyles;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _utils = require(\"./utils\");\nvar _ViewDescriptorsSet = require(\"../reanimated2/ViewDescriptorsSet\");\nvar _ConfigHelper = require(\"../ConfigHelper\");\nvar _UpdateProps = _interopRequireDefault(require(\"../reanimated2/UpdateProps\"));\nvar _mappers = require(\"../reanimated2/mappers\");\nvar _isSharedValue = require(\"../reanimated2/isSharedValue\");\nvar _PlatformChecker = require(\"../reanimated2/PlatformChecker\");\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nvar SHOULD_BE_USE_WEB = (0, _PlatformChecker.shouldBeUseWeb)();\nfunction isInlineStyleTransform(transform) {\n  if (!Array.isArray(transform)) {\n    return false;\n  }\n  return transform.some(function (t) {\n    return hasInlineStyles(t);\n  });\n}\nfunction inlinePropsHasChanged(styles1, styles2) {\n  if (Object.keys(styles1).length !== Object.keys(styles2).length) {\n    return true;\n  }\n  for (var key of Object.keys(styles1)) {\n    if (styles1[key] !== styles2[key]) return true;\n  }\n  return false;\n}\nvar _worklet_9755239701942_init_data = {\n  code: \"function getInlinePropsUpdate(inlineProps){const getInlinePropsUpdate=this._recur;const{isSharedValue}=this.__closure;const update={};for(const[key,styleValue]of Object.entries(inlineProps)){if(isSharedValue(styleValue)){update[key]=styleValue.value;}else if(Array.isArray(styleValue)){update[key]=styleValue.map(function(item){return getInlinePropsUpdate(item);});}else if(typeof styleValue==='object'){update[key]=getInlinePropsUpdate(styleValue);}else{update[key]=styleValue;}}return update;}\",\n  location: \"D:\\\\course\\\\ReactNative\\\\Tasks\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\createAnimatedComponent\\\\InlinePropManager.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"getInlinePropsUpdate\\\",\\\"inlineProps\\\",\\\"_recur\\\",\\\"isSharedValue\\\",\\\"__closure\\\",\\\"update\\\",\\\"key\\\",\\\"styleValue\\\",\\\"Object\\\",\\\"entries\\\",\\\"value\\\",\\\"Array\\\",\\\"isArray\\\",\\\"map\\\",\\\"item\\\"],\\\"sources\\\":[\\\"D:/course/ReactNative/Tasks/node_modules/react-native-reanimated/lib/module/createAnimatedComponent/InlinePropManager.js\\\"],\\\"mappings\\\":\\\"AA4BA,SAAAA,oBAASA,CAAqBC,WAAA,CAAW,OAAAD,oBAAA,MAAAE,MAAA,OAAAC,aAAA,OAAAC,SAAA,CAGvC,KAAM,CAAAC,MAAM,CAAG,CAAC,CAAC,CACjB,IAAK,KAAM,CAACC,GAAG,CAAEC,UAAU,CAAC,EAAI,CAAAC,MAAM,CAACC,OAAO,CAACR,WAAW,CAAC,CAAE,CAC3D,GAAIE,aAAa,CAACI,UAAU,CAAC,CAAE,CAC7BF,MAAM,CAACC,GAAG,CAAC,CAAGC,UAAU,CAACG,KAAK,CAChC,CAAC,IAAM,IAAIC,KAAK,CAACC,OAAO,CAACL,UAAU,CAAC,CAAE,CACpCF,MAAM,CAACC,GAAG,CAAC,CAAGC,UAAU,CAACM,GAAG,CAAC,SAAAC,IAAI,CAAI,CACnC,MAAO,CAAAd,oBAAoB,CAACc,IAAI,CAAC,CACnC,CAAC,CAAC,CACJ,CAAC,IAAM,IAAI,MAAO,CAAAP,UAAU,GAAK,QAAQ,CAAE,CACzCF,MAAM,CAACC,GAAG,CAAC,CAAGN,oBAAoB,CAACO,UAAU,CAAC,CAChD,CAAC,IAAM,CACLF,MAAM,CAACC,GAAG,CAAC,CAAGC,UAAU,CAC1B,CACF,CACA,MAAO,CAAAF,MAAM,CACf\\\"}\",\n  version: \"3.6.1\"\n};\nvar getInlinePropsUpdate = function () {\n  var _e = [new global.Error(), -2, -27];\n  var getInlinePropsUpdate = function getInlinePropsUpdate(inlineProps) {\n    var update = {};\n    for (var _ref of Object.entries(inlineProps)) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2);\n      var key = _ref2[0];\n      var styleValue = _ref2[1];\n      if ((0, _isSharedValue.isSharedValue)(styleValue)) {\n        update[key] = styleValue.value;\n      } else if (Array.isArray(styleValue)) {\n        update[key] = styleValue.map(function (item) {\n          return getInlinePropsUpdate(item);\n        });\n      } else if (typeof styleValue === 'object') {\n        update[key] = getInlinePropsUpdate(styleValue);\n      } else {\n        update[key] = styleValue;\n      }\n    }\n    return update;\n  };\n  getInlinePropsUpdate.__closure = {\n    isSharedValue: _isSharedValue.isSharedValue\n  };\n  getInlinePropsUpdate.__workletHash = 9755239701942;\n  getInlinePropsUpdate.__initData = _worklet_9755239701942_init_data;\n  getInlinePropsUpdate.__stackDetails = _e;\n  return getInlinePropsUpdate;\n}();\nfunction extractSharedValuesMapFromProps(props) {\n  var inlineProps = {};\n  for (var key in props) {\n    var value = props[key];\n    if (key === 'style') {\n      var _props$style;\n      var styles = (0, _utils.flattenArray)((_props$style = props.style) != null ? _props$style : []);\n      styles.forEach(function (style) {\n        if (!style) {\n          return;\n        }\n        for (var _ref3 of Object.entries(style)) {\n          var _ref4 = (0, _slicedToArray2.default)(_ref3, 2);\n          var _key = _ref4[0];\n          var styleValue = _ref4[1];\n          if ((0, _isSharedValue.isSharedValue)(styleValue)) {\n            inlineProps[_key] = styleValue;\n          } else if (_key === 'transform' && isInlineStyleTransform(styleValue)) {\n            inlineProps[_key] = styleValue;\n          }\n        }\n      });\n    } else if ((0, _isSharedValue.isSharedValue)(value)) {\n      inlineProps[key] = value;\n    }\n  }\n  return inlineProps;\n}\nfunction hasInlineStyles(style) {\n  if (!style) {\n    return false;\n  }\n  return Object.keys(style).some(function (key) {\n    var styleValue = style[key];\n    return (0, _isSharedValue.isSharedValue)(styleValue) || key === 'transform' && isInlineStyleTransform(styleValue);\n  });\n}\nfunction getInlineStyle(style, isFirstRender) {\n  if (isFirstRender) {\n    return getInlinePropsUpdate(style);\n  }\n  var newStyle = {};\n  for (var _ref5 of Object.entries(style)) {\n    var _ref6 = (0, _slicedToArray2.default)(_ref5, 2);\n    var key = _ref6[0];\n    var styleValue = _ref6[1];\n    if (!(0, _isSharedValue.isSharedValue)(styleValue) && !(key === 'transform' && isInlineStyleTransform(styleValue))) {\n      newStyle[key] = styleValue;\n    }\n  }\n  return newStyle;\n}\nvar _worklet_11406519397301_init_data = {\n  code: \"function anonymous(){const{getInlinePropsUpdate,newInlineProps,updateProps,shareableViewDescriptors,maybeViewRef}=this.__closure;const update=getInlinePropsUpdate(newInlineProps);updateProps(shareableViewDescriptors,update,maybeViewRef);}\",\n  location: \"D:\\\\course\\\\ReactNative\\\\Tasks\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\createAnimatedComponent\\\\InlinePropManager.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"getInlinePropsUpdate\\\",\\\"newInlineProps\\\",\\\"updateProps\\\",\\\"shareableViewDescriptors\\\",\\\"maybeViewRef\\\",\\\"__closure\\\",\\\"update\\\"],\\\"sources\\\":[\\\"D:/course/ReactNative/Tasks/node_modules/react-native-reanimated/lib/module/createAnimatedComponent/InlinePropManager.js\\\"],\\\"mappings\\\":\\\"AA+H8B,SAAAA,SAAMA,CAAA,QAAAC,oBAAA,CAAAC,cAAA,CAAAC,WAAA,CAAAC,wBAAA,CAAAC,YAAA,OAAAC,SAAA,CAG5B,KAAM,CAAAC,MAAM,CAAGN,oBAAoB,CAACC,cAAc,CAAC,CACnDC,WAAW,CAACC,wBAAwB,CAAEG,MAAM,CAAEF,YAAY,CAAC,CAC7D\\\"}\",\n  version: \"3.6.1\"\n};\nvar InlinePropManager = exports.InlinePropManager = function () {\n  function InlinePropManager() {\n    (0, _classCallCheck2.default)(this, InlinePropManager);\n    _defineProperty(this, \"_inlinePropsViewDescriptors\", null);\n    _defineProperty(this, \"_inlinePropsMapperId\", null);\n    _defineProperty(this, \"_inlineProps\", {});\n  }\n  (0, _createClass2.default)(InlinePropManager, [{\n    key: \"attachInlineProps\",\n    value: function attachInlineProps(animatedComponent, viewInfo) {\n      var newInlineProps = extractSharedValuesMapFromProps(animatedComponent.props);\n      var hasChanged = inlinePropsHasChanged(newInlineProps, this._inlineProps);\n      if (hasChanged) {\n        if (!this._inlinePropsViewDescriptors) {\n          this._inlinePropsViewDescriptors = (0, _ViewDescriptorsSet.makeViewDescriptorsSet)();\n          var viewTag = viewInfo.viewTag,\n            viewName = viewInfo.viewName,\n            shadowNodeWrapper = viewInfo.shadowNodeWrapper,\n            viewConfig = viewInfo.viewConfig;\n          if (Object.keys(newInlineProps).length && viewConfig) {\n            (0, _ConfigHelper.adaptViewConfig)(viewConfig);\n          }\n          this._inlinePropsViewDescriptors.add({\n            tag: viewTag,\n            name: viewName,\n            shadowNodeWrapper: shadowNodeWrapper\n          });\n        }\n        var shareableViewDescriptors = this._inlinePropsViewDescriptors.shareableViewDescriptors;\n        var maybeViewRef = SHOULD_BE_USE_WEB ? {\n          items: new Set([animatedComponent])\n        } : undefined;\n        var updaterFunction = function () {\n          var _e = [new global.Error(), -6, -27];\n          var anonymous = function anonymous() {\n            var update = getInlinePropsUpdate(newInlineProps);\n            (0, _UpdateProps.default)(shareableViewDescriptors, update, maybeViewRef);\n          };\n          anonymous.__closure = {\n            getInlinePropsUpdate: getInlinePropsUpdate,\n            newInlineProps: newInlineProps,\n            updateProps: _UpdateProps.default,\n            shareableViewDescriptors: shareableViewDescriptors,\n            maybeViewRef: maybeViewRef\n          };\n          anonymous.__workletHash = 11406519397301;\n          anonymous.__initData = _worklet_11406519397301_init_data;\n          anonymous.__stackDetails = _e;\n          return anonymous;\n        }();\n        this._inlineProps = newInlineProps;\n        if (this._inlinePropsMapperId) {\n          (0, _mappers.stopMapper)(this._inlinePropsMapperId);\n        }\n        this._inlinePropsMapperId = null;\n        if (Object.keys(newInlineProps).length) {\n          this._inlinePropsMapperId = (0, _mappers.startMapper)(updaterFunction, Object.values(newInlineProps));\n        }\n      }\n    }\n  }, {\n    key: \"detachInlineProps\",\n    value: function detachInlineProps() {\n      if (this._inlinePropsMapperId) {\n        (0, _mappers.stopMapper)(this._inlinePropsMapperId);\n      }\n    }\n  }]);\n  return InlinePropManager;\n}();","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","InlinePropManager","getInlineStyle","hasInlineStyles","_classCallCheck2","_createClass2","_slicedToArray2","_utils","_ViewDescriptorsSet","_ConfigHelper","_UpdateProps","_mappers","_isSharedValue","_PlatformChecker","_defineProperty","obj","key","_toPropertyKey","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","SHOULD_BE_USE_WEB","shouldBeUseWeb","isInlineStyleTransform","transform","Array","isArray","some","t","inlinePropsHasChanged","styles1","styles2","keys","length","_worklet_9755239701942_init_data","code","location","sourceMap","version","getInlinePropsUpdate","_e","global","Error","inlineProps","update","_ref","entries","_ref2","default","styleValue","isSharedValue","map","item","__closure","__workletHash","__initData","__stackDetails","extractSharedValuesMapFromProps","props","_props$style","styles","flattenArray","style","forEach","_ref3","_ref4","isFirstRender","newStyle","_ref5","_ref6","_worklet_11406519397301_init_data","attachInlineProps","animatedComponent","viewInfo","newInlineProps","hasChanged","_inlineProps","_inlinePropsViewDescriptors","makeViewDescriptorsSet","viewTag","viewName","shadowNodeWrapper","viewConfig","adaptViewConfig","add","tag","name","shareableViewDescriptors","maybeViewRef","items","Set","updaterFunction","anonymous","updateProps","_inlinePropsMapperId","stopMapper","startMapper","values","detachInlineProps"],"sources":["D:\\course\\ReactNative\\Tasks\\node_modules\\react-native-reanimated\\lib\\module\\createAnimatedComponent\\InlinePropManager.ts"],"sourcesContent":["'use strict';\nimport type { StyleProps } from '../reanimated2';\nimport type {\n  IAnimatedComponentInternal,\n  AnimatedComponentProps,\n  IInlinePropManager,\n  ViewInfo,\n} from './commonTypes';\nimport { flattenArray } from './utils';\nimport { makeViewDescriptorsSet } from '../reanimated2/ViewDescriptorsSet';\nimport type {\n  ViewDescriptorsSet,\n  ViewRefSet,\n} from '../reanimated2/ViewDescriptorsSet';\nimport { adaptViewConfig } from '../ConfigHelper';\nimport updateProps from '../reanimated2/UpdateProps';\nimport { stopMapper, startMapper } from '../reanimated2/mappers';\nimport { isSharedValue } from '../reanimated2/isSharedValue';\nimport { shouldBeUseWeb } from '../reanimated2/PlatformChecker';\n\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nfunction isInlineStyleTransform(transform: unknown): boolean {\n  if (!Array.isArray(transform)) {\n    return false;\n  }\n\n  return transform.some((t: Record<string, unknown>) => hasInlineStyles(t));\n}\n\nfunction inlinePropsHasChanged(\n  styles1: StyleProps,\n  styles2: StyleProps\n): boolean {\n  if (Object.keys(styles1).length !== Object.keys(styles2).length) {\n    return true;\n  }\n\n  for (const key of Object.keys(styles1)) {\n    if (styles1[key] !== styles2[key]) return true;\n  }\n\n  return false;\n}\n\nfunction getInlinePropsUpdate(inlineProps: Record<string, unknown>) {\n  'worklet';\n  const update: Record<string, unknown> = {};\n  for (const [key, styleValue] of Object.entries(inlineProps)) {\n    if (isSharedValue(styleValue)) {\n      update[key] = styleValue.value;\n    } else if (Array.isArray(styleValue)) {\n      update[key] = styleValue.map((item) => {\n        return getInlinePropsUpdate(item);\n      });\n    } else if (typeof styleValue === 'object') {\n      update[key] = getInlinePropsUpdate(styleValue as Record<string, unknown>);\n    } else {\n      update[key] = styleValue;\n    }\n  }\n  return update;\n}\n\nfunction extractSharedValuesMapFromProps(\n  props: AnimatedComponentProps<\n    Record<string, unknown> /* Initial component props */\n  >\n): Record<string, unknown> {\n  const inlineProps: Record<string, unknown> = {};\n\n  for (const key in props) {\n    const value = props[key];\n    if (key === 'style') {\n      const styles = flattenArray<StyleProps>(props.style ?? []);\n      styles.forEach((style) => {\n        if (!style) {\n          return;\n        }\n        for (const [key, styleValue] of Object.entries(style)) {\n          if (isSharedValue(styleValue)) {\n            inlineProps[key] = styleValue;\n          } else if (\n            key === 'transform' &&\n            isInlineStyleTransform(styleValue)\n          ) {\n            inlineProps[key] = styleValue;\n          }\n        }\n      });\n    } else if (isSharedValue(value)) {\n      inlineProps[key] = value;\n    }\n  }\n\n  return inlineProps;\n}\n\nexport function hasInlineStyles(style: StyleProps): boolean {\n  if (!style) {\n    return false;\n  }\n  return Object.keys(style).some((key) => {\n    const styleValue = style[key];\n    return (\n      isSharedValue(styleValue) ||\n      (key === 'transform' && isInlineStyleTransform(styleValue))\n    );\n  });\n}\n\nexport function getInlineStyle(\n  style: Record<string, unknown>,\n  isFirstRender: boolean\n) {\n  if (isFirstRender) {\n    return getInlinePropsUpdate(style);\n  }\n  const newStyle: StyleProps = {};\n  for (const [key, styleValue] of Object.entries(style)) {\n    if (\n      !isSharedValue(styleValue) &&\n      !(key === 'transform' && isInlineStyleTransform(styleValue))\n    ) {\n      newStyle[key] = styleValue;\n    }\n  }\n  return newStyle;\n}\n\nexport class InlinePropManager implements IInlinePropManager {\n  _inlinePropsViewDescriptors: ViewDescriptorsSet | null = null;\n  _inlinePropsMapperId: number | null = null;\n  _inlineProps: StyleProps = {};\n\n  public attachInlineProps(\n    animatedComponent: React.Component<unknown, unknown> &\n      IAnimatedComponentInternal,\n    viewInfo: ViewInfo\n  ) {\n    const newInlineProps: Record<string, unknown> =\n      extractSharedValuesMapFromProps(animatedComponent.props);\n    const hasChanged = inlinePropsHasChanged(newInlineProps, this._inlineProps);\n\n    if (hasChanged) {\n      if (!this._inlinePropsViewDescriptors) {\n        this._inlinePropsViewDescriptors = makeViewDescriptorsSet();\n\n        const { viewTag, viewName, shadowNodeWrapper, viewConfig } = viewInfo;\n\n        if (Object.keys(newInlineProps).length && viewConfig) {\n          adaptViewConfig(viewConfig);\n        }\n\n        this._inlinePropsViewDescriptors.add({\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          tag: viewTag as number,\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          name: viewName!,\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          shadowNodeWrapper: shadowNodeWrapper!,\n        });\n      }\n      const shareableViewDescriptors =\n        this._inlinePropsViewDescriptors.shareableViewDescriptors;\n\n      const maybeViewRef = SHOULD_BE_USE_WEB\n        ? ({ items: new Set([animatedComponent]) } as ViewRefSet<unknown>) // see makeViewsRefSet\n        : undefined;\n      const updaterFunction = () => {\n        'worklet';\n        const update = getInlinePropsUpdate(newInlineProps);\n        updateProps(shareableViewDescriptors, update, maybeViewRef);\n      };\n      this._inlineProps = newInlineProps;\n      if (this._inlinePropsMapperId) {\n        stopMapper(this._inlinePropsMapperId);\n      }\n      this._inlinePropsMapperId = null;\n      if (Object.keys(newInlineProps).length) {\n        this._inlinePropsMapperId = startMapper(\n          updaterFunction,\n          Object.values(newInlineProps)\n        );\n      }\n    }\n  }\n\n  public detachInlineProps() {\n    if (this._inlinePropsMapperId) {\n      stopMapper(this._inlinePropsMapperId);\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}