{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeShareable = makeShareable;\nexports.makeShareableCloneOnUIRecursive = void 0;\nexports.makeShareableCloneRecursive = makeShareableCloneRecursive;\nexports.registerShareableMapping = registerShareableMapping;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _NativeReanimated = _interopRequireDefault(require(\"./NativeReanimated\"));\nvar _PlatformChecker = require(\"./PlatformChecker\");\nvar _errors = require(\"./errors\");\nvar _jsVersion = require(\"./platform-specific/jsVersion\");\nvar USE_STUB_IMPLEMENTATION = (0, _PlatformChecker.shouldBeUseWeb)();\nvar _shareableCache = new WeakMap();\nvar _shareableFlag = Symbol('shareable flag');\nvar MAGIC_KEY = 'REANIMATED_MAGIC_KEY';\nvar _worklet_6457566696199_init_data = {\n  code: \"function isHostObject(value){const{MAGIC_KEY}=this.__closure;return MAGIC_KEY in value;}\",\n  location: \"D:\\\\course\\\\ReactNative\\\\Tasks\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\reanimated2\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"isHostObject\\\",\\\"value\\\",\\\"MAGIC_KEY\\\",\\\"__closure\\\"],\\\"sources\\\":[\\\"D:/course/ReactNative/Tasks/node_modules/react-native-reanimated/lib/module/reanimated2/shareables.js\\\"],\\\"mappings\\\":\\\"AAiBA,SAAAA,YAASA,CAAaC,KAAA,CAAK,OAAAC,SAAA,OAAAC,SAAA,CAOzB,MAAO,CAAAD,SAAS,GAAI,CAAAD,KAAK,CAC3B\\\"}\",\n  version: \"3.6.1\"\n};\nvar isHostObject = function () {\n  var _e = [new global.Error(), -2, -27];\n  var isHostObject = function isHostObject(value) {\n    return MAGIC_KEY in value;\n  };\n  isHostObject.__closure = {\n    MAGIC_KEY: MAGIC_KEY\n  };\n  isHostObject.__workletHash = 6457566696199;\n  isHostObject.__initData = _worklet_6457566696199_init_data;\n  isHostObject.__stackDetails = _e;\n  return isHostObject;\n}();\nfunction registerShareableMapping(shareable, shareableRef) {\n  if (USE_STUB_IMPLEMENTATION) {\n    return;\n  }\n  _shareableCache.set(shareable, shareableRef || _shareableFlag);\n}\nfunction isPlainJSObject(object) {\n  return Object.getPrototypeOf(object) === Object.prototype;\n}\nvar _worklet_17186589908483_init_data = {\n  code: \"function anonymous(){return new Proxy({},{get:function(_,prop){if(prop==='_isReanimatedSharedValue'||prop==='__remoteFunction'){return false;}throw new Error(\\\"[Reanimated] Trying to access property `\\\"+String(prop)+\\\"` of an object which cannot be sent to the UI runtime.\\\");},set:function(){throw new Error('[Reanimated] Trying to write to an object which cannot be sent to the UI runtime.');}});}\",\n  location: \"D:\\\\course\\\\ReactNative\\\\Tasks\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\reanimated2\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"Proxy\\\",\\\"get\\\",\\\"_\\\",\\\"prop\\\",\\\"Error\\\",\\\"String\\\",\\\"set\\\"],\\\"sources\\\":[\\\"D:/course/ReactNative/Tasks/node_modules/react-native-reanimated/lib/module/reanimated2/shareables.js\\\"],\\\"mappings\\\":\\\"AA4CU,SAAAA,SAAMA,CAAA,EAGZ,MAAO,IAAI,CAAAC,KAAK,CAAC,CAAC,CAAC,CAAE,CACnBC,GAAG,CAAE,QAAAA,CAACC,CAAC,CAAEC,IAAI,CAAK,CAChB,GAAIA,IAAI,GAAK,0BAA0B,EAAIA,IAAI,GAAK,kBAAkB,CAAE,CAStE,MAAO,MAAK,CACd,CACA,KAAM,IAAI,CAAAC,KAAK,4CAA6CC,MAAM,CAACF,IAAI,CAAE,yDAAwD,CAAC,CACpI,CAAC,CACDG,GAAG,CAAE,QAAAA,CAAA,CAAM,CACT,KAAM,IAAI,CAAAF,KAAK,CAAC,mFAAmF,CAAC,CACtG,CACF,CAAC,CAAC,CACJ\\\"}\",\n  version: \"3.6.1\"\n};\nvar INACCESSIBLE_OBJECT = {\n  __init: function () {\n    var _e = [new global.Error(), 1, -27];\n    var anonymous = function anonymous() {\n      return new Proxy({}, {\n        get: function get(_, prop) {\n          if (prop === '_isReanimatedSharedValue' || prop === '__remoteFunction') {\n            return false;\n          }\n          throw new Error(`[Reanimated] Trying to access property \\`${String(prop)}\\` of an object which cannot be sent to the UI runtime.`);\n        },\n        set: function set() {\n          throw new Error('[Reanimated] Trying to write to an object which cannot be sent to the UI runtime.');\n        }\n      });\n    };\n    anonymous.__closure = {};\n    anonymous.__workletHash = 17186589908483;\n    anonymous.__initData = _worklet_17186589908483_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }()\n};\nvar VALID_ARRAY_VIEWS_NAMES = ['Int8Array', 'Uint8Array', 'Uint8ClampedArray', 'Int16Array', 'Uint16Array', 'Int32Array', 'Uint32Array', 'Float32Array', 'Float64Array', 'BigInt64Array', 'BigUint64Array', 'DataView'];\nvar DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD = 30;\nvar processedObjectAtThresholdDepth;\nvar shouldWarnAboutMissingPluginVersion = true;\nvar _worklet_17031627990684_init_data = {\n  code: \"function anonymous(){const{pattern,flags}=this.__closure;return new RegExp(pattern,flags);}\",\n  location: \"D:\\\\course\\\\ReactNative\\\\Tasks\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\reanimated2\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"pattern\\\",\\\"flags\\\",\\\"__closure\\\",\\\"RegExp\\\"],\\\"sources\\\":[\\\"D:/course/ReactNative/Tasks/node_modules/react-native-reanimated/lib/module/reanimated2/shareables.js\\\"],\\\"mappings\\\":\\\"AAgKkB,SAAAA,SAAMA,CAAA,QAAAC,OAAA,CAAAC,KAAA,OAAAC,SAAA,CAGZ,MAAO,IAAI,CAAAC,MAAM,CAACH,OAAO,CAAEC,KAAK,CAAC,CACnC\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_7802327914260_init_data = {\n  code: \"function anonymous(){const{VALID_ARRAY_VIEWS_NAMES,_type,buffer}=this.__closure;if(!VALID_ARRAY_VIEWS_NAMES.includes(_type)){throw new Error(\\\"[Reanimated] Invalid array view name `\\\"+_type+\\\"`.\\\");}const constructor=global[_type];if(constructor===undefined){throw new Error(\\\"[Reanimated] Constructor for `\\\"+_type+\\\"` not found.\\\");}return new constructor(buffer);}\",\n  location: \"D:\\\\course\\\\ReactNative\\\\Tasks\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\reanimated2\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"VALID_ARRAY_VIEWS_NAMES\\\",\\\"_type\\\",\\\"buffer\\\",\\\"__closure\\\",\\\"includes\\\",\\\"Error\\\",\\\"constructor\\\",\\\"global\\\",\\\"undefined\\\"],\\\"sources\\\":[\\\"D:/course/ReactNative/Tasks/node_modules/react-native-reanimated/lib/module/reanimated2/shareables.js\\\"],\\\"mappings\\\":\\\"AA+KkB,SAAAA,SAAMA,CAAA,QAAAC,uBAAA,CAAAC,KAAA,CAAAC,MAAA,OAAAC,SAAA,CAGZ,GAAI,CAACH,uBAAuB,CAACI,QAAQ,CAACH,KAAI,CAAC,CAAE,CAC3C,KAAM,IAAI,CAAAI,KAAK,0CAA2CJ,KAAK,KAAI,CAAC,CACtE,CACA,KAAM,CAAAK,WAAW,CAAGC,MAAM,CAACN,KAAI,CAAC,CAChC,GAAIK,WAAW,GAAKE,SAAS,CAAE,CAC7B,KAAM,IAAI,CAAAH,KAAK,kCAAmCJ,KAAK,eAAc,CAAC,CACxE,CACA,MAAO,IAAI,CAAAK,WAAW,CAACJ,MAAM,CAAC,CAChC\\\"}\",\n  version: \"3.6.1\"\n};\nfunction makeShareableCloneRecursive(value) {\n  var shouldPersistRemote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  if (USE_STUB_IMPLEMENTATION) {\n    return value;\n  }\n  if (depth >= DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n    if (depth === DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n      processedObjectAtThresholdDepth = value;\n    } else if (value === processedObjectAtThresholdDepth) {\n      throw new Error('[Reanimated] Trying to convert a cyclic object to a shareable. This is not supported.');\n    }\n  } else {\n    processedObjectAtThresholdDepth = undefined;\n  }\n  var type = typeof value;\n  var isTypeObject = type === 'object';\n  var isTypeFunction = type === 'function';\n  if ((isTypeObject || isTypeFunction) && value !== null) {\n    var cached = _shareableCache.get(value);\n    if (cached === _shareableFlag) {\n      return value;\n    } else if (cached !== undefined) {\n      return cached;\n    } else {\n      var toAdapt;\n      if (Array.isArray(value)) {\n        toAdapt = value.map(function (element) {\n          return makeShareableCloneRecursive(element, shouldPersistRemote, depth + 1);\n        });\n      } else if (isTypeFunction && value.__workletHash === undefined) {\n        toAdapt = value;\n      } else if (isHostObject(value)) {\n        toAdapt = value;\n      } else if (isPlainJSObject(value) || isTypeFunction) {\n        toAdapt = {};\n        if (value.__workletHash !== undefined) {\n          if (__DEV__) {\n            var babelVersion = value.__initData.version;\n            if (babelVersion === undefined) {\n              if (shouldWarnAboutMissingPluginVersion) {\n                shouldWarnAboutMissingPluginVersion = false;\n                console.warn(`[Reanimated] Unknown version of Reanimated Babel plugin.\n              See \\`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#unknown-version-of-reanimated-babel-plugin\\` for more details.\n              Offending code was: \\`${getWorkletCode(value)}\\``);\n              }\n            } else if (babelVersion !== _jsVersion.jsVersion) {\n              throw new Error(`[Reanimated] Mismatch between JavaScript code version and Reanimated Babel plugin version (${_jsVersion.jsVersion} vs. ${babelVersion}).        \nSee \\`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#mismatch-between-javascript-code-version-and-reanimated-babel-plugin-version\\` for more details.\nOffending code was: \\`${getWorkletCode(value)}\\``);\n            }\n            (0, _errors.registerWorkletStackDetails)(value.__workletHash, value.__stackDetails);\n          }\n          if (value.__stackDetails) {\n            delete value.__stackDetails;\n          }\n          toAdapt.__initData = makeShareableCloneRecursive(value.__initData, true, depth + 1);\n        }\n        for (var _ref of Object.entries(value)) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2);\n          var key = _ref2[0];\n          var element = _ref2[1];\n          if (key === '__initData' && toAdapt.__initData !== undefined) {\n            continue;\n          }\n          toAdapt[key] = makeShareableCloneRecursive(element, shouldPersistRemote, depth + 1);\n        }\n      } else if (value instanceof RegExp) {\n        var pattern = value.source;\n        var flags = value.flags;\n        var handle = makeShareableCloneRecursive({\n          __init: function () {\n            var _e = [new global.Error(), -3, -27];\n            var anonymous = function anonymous() {\n              return new RegExp(pattern, flags);\n            };\n            anonymous.__closure = {\n              pattern: pattern,\n              flags: flags\n            };\n            anonymous.__workletHash = 17031627990684;\n            anonymous.__initData = _worklet_17031627990684_init_data;\n            anonymous.__stackDetails = _e;\n            return anonymous;\n          }()\n        });\n        registerShareableMapping(value, handle);\n        return handle;\n      } else if (value instanceof ArrayBuffer) {\n        toAdapt = value;\n      } else if (ArrayBuffer.isView(value)) {\n        var buffer = value.buffer;\n        var _type = value.constructor.name;\n        var _handle = makeShareableCloneRecursive({\n          __init: function () {\n            var _e = [new global.Error(), -4, -27];\n            var anonymous = function anonymous() {\n              if (!VALID_ARRAY_VIEWS_NAMES.includes(_type)) {\n                throw new Error(`[Reanimated] Invalid array view name \\`${_type}\\`.`);\n              }\n              var constructor = global[_type];\n              if (constructor === undefined) {\n                throw new Error(`[Reanimated] Constructor for \\`${_type}\\` not found.`);\n              }\n              return new constructor(buffer);\n            };\n            anonymous.__closure = {\n              VALID_ARRAY_VIEWS_NAMES: VALID_ARRAY_VIEWS_NAMES,\n              _type: _type,\n              buffer: buffer\n            };\n            anonymous.__workletHash = 7802327914260;\n            anonymous.__initData = _worklet_7802327914260_init_data;\n            anonymous.__stackDetails = _e;\n            return anonymous;\n          }()\n        });\n        registerShareableMapping(value, _handle);\n        return _handle;\n      } else {\n        var inaccessibleObject = makeShareableCloneRecursive(INACCESSIBLE_OBJECT);\n        _shareableCache.set(value, inaccessibleObject);\n        return inaccessibleObject;\n      }\n      if (__DEV__) {\n        Object.freeze(value);\n      }\n      var adopted = _NativeReanimated.default.makeShareableClone(toAdapt, shouldPersistRemote);\n      _shareableCache.set(value, adopted);\n      _shareableCache.set(adopted, _shareableFlag);\n      return adopted;\n    }\n  }\n  return _NativeReanimated.default.makeShareableClone(value, shouldPersistRemote);\n}\nvar WORKLET_CODE_THRESHOLD = 255;\nfunction getWorkletCode(value) {\n  var _value$__initData;\n  var code = value === null || value === void 0 ? void 0 : (_value$__initData = value.__initData) === null || _value$__initData === void 0 ? void 0 : _value$__initData.code;\n  if (!code) {\n    return 'unknown';\n  }\n  if (code.length > WORKLET_CODE_THRESHOLD) {\n    return `${code.substring(0, WORKLET_CODE_THRESHOLD)}...`;\n  }\n  return code;\n}\nvar _worklet_11770591563495_init_data = {\n  code: \"function isRemoteFunction(value){return!!value.__remoteFunction;}\",\n  location: \"D:\\\\course\\\\ReactNative\\\\Tasks\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\reanimated2\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"isRemoteFunction\\\",\\\"value\\\",\\\"__remoteFunction\\\"],\\\"sources\\\":[\\\"D:/course/ReactNative/Tasks/node_modules/react-native-reanimated/lib/module/reanimated2/shareables.js\\\"],\\\"mappings\\\":\\\"AAyOA,SAAAA,gBAASA,CAAiBC,KAAA,CAAK,CAG7B,MAAO,CAAC,CAACA,KAAK,CAACC,gBAAgB,CACjC\\\"}\",\n  version: \"3.6.1\"\n};\nvar isRemoteFunction = function () {\n  var _e = [new global.Error(), 1, -27];\n  var isRemoteFunction = function isRemoteFunction(value) {\n    return !!value.__remoteFunction;\n  };\n  isRemoteFunction.__closure = {};\n  isRemoteFunction.__workletHash = 11770591563495;\n  isRemoteFunction.__initData = _worklet_11770591563495_init_data;\n  isRemoteFunction.__stackDetails = _e;\n  return isRemoteFunction;\n}();\nvar _worklet_6696410489807_init_data = {\n  code: \"function makeShareableCloneOnUIRecursive(value){const{USE_STUB_IMPLEMENTATION,isHostObject,isRemoteFunction}=this.__closure;if(USE_STUB_IMPLEMENTATION){return value;}function cloneRecursive(value){if(typeof value==='object'&&value!==null||typeof value==='function'){if(isHostObject(value)){return _makeShareableClone(value);}if(isRemoteFunction(value)){return value.__remoteFunction;}if(Array.isArray(value)){return _makeShareableClone(value.map(cloneRecursive));}const toAdapt={};for(const[key,element]of Object.entries(value)){toAdapt[key]=cloneRecursive(element);}return _makeShareableClone(toAdapt);}return _makeShareableClone(value);}return cloneRecursive(value);}\",\n  location: \"D:\\\\course\\\\ReactNative\\\\Tasks\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\reanimated2\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"makeShareableCloneOnUIRecursive\\\",\\\"value\\\",\\\"USE_STUB_IMPLEMENTATION\\\",\\\"isHostObject\\\",\\\"isRemoteFunction\\\",\\\"__closure\\\",\\\"cloneRecursive\\\",\\\"_makeShareableClone\\\",\\\"__remoteFunction\\\",\\\"Array\\\",\\\"isArray\\\",\\\"map\\\",\\\"toAdapt\\\",\\\"key\\\",\\\"element\\\",\\\"Object\\\",\\\"entries\\\"],\\\"sources\\\":[\\\"D:/course/ReactNative/Tasks/node_modules/react-native-reanimated/lib/module/reanimated2/shareables.js\\\"],\\\"mappings\\\":\\\"AA8OO,SAAAA,+BAASA,CAAgCC,KAAA,CAAK,OAAAC,uBAAA,CAAAC,YAAA,CAAAC,gBAAA,OAAAC,SAAA,CAGnD,GAAIH,uBAAuB,CAAE,CAG3B,MAAO,CAAAD,KAAK,CACd,CACA,QAAS,CAAAK,cAAcA,CAACL,KAAK,CAAE,CAC7B,GAAI,MAAO,CAAAA,KAAK,GAAK,QAAQ,EAAIA,KAAK,GAAK,IAAI,EAAI,MAAO,CAAAA,KAAK,GAAK,UAAU,CAAE,CAC9E,GAAIE,YAAY,CAACF,KAAK,CAAC,CAAE,CAGvB,MAAO,CAAAM,mBAAmB,CAACN,KAAK,CAAC,CACnC,CACA,GAAIG,gBAAgB,CAACH,KAAK,CAAC,CAAE,CAI3B,MAAO,CAAAA,KAAK,CAACO,gBAAgB,CAC/B,CACA,GAAIC,KAAK,CAACC,OAAO,CAACT,KAAK,CAAC,CAAE,CACxB,MAAO,CAAAM,mBAAmB,CAACN,KAAK,CAACU,GAAG,CAACL,cAAc,CAAC,CAAC,CACvD,CACA,KAAM,CAAAM,OAAO,CAAG,CAAC,CAAC,CAClB,IAAK,KAAM,CAACC,GAAG,CAAEC,OAAO,CAAC,EAAI,CAAAC,MAAM,CAACC,OAAO,CAACf,KAAK,CAAC,CAAE,CAClDW,OAAO,CAACC,GAAG,CAAC,CAAGP,cAAc,CAACQ,OAAO,CAAC,CACxC,CACA,MAAO,CAAAP,mBAAmB,CAACK,OAAO,CAAC,CACrC,CACA,MAAO,CAAAL,mBAAmB,CAACN,KAAK,CAAC,CACnC,CACA,MAAO,CAAAK,cAAc,CAACL,KAAK,CAAC,CAC9B\\\"}\",\n  version: \"3.6.1\"\n};\nvar makeShareableCloneOnUIRecursive = exports.makeShareableCloneOnUIRecursive = function () {\n  var _e = [new global.Error(), -4, -27];\n  var makeShareableCloneOnUIRecursive = function makeShareableCloneOnUIRecursive(value) {\n    if (USE_STUB_IMPLEMENTATION) {\n      return value;\n    }\n    function cloneRecursive(value) {\n      if (typeof value === 'object' && value !== null || typeof value === 'function') {\n        if (isHostObject(value)) {\n          return _makeShareableClone(value);\n        }\n        if (isRemoteFunction(value)) {\n          return value.__remoteFunction;\n        }\n        if (Array.isArray(value)) {\n          return _makeShareableClone(value.map(cloneRecursive));\n        }\n        var toAdapt = {};\n        for (var _ref3 of Object.entries(value)) {\n          var _ref4 = (0, _slicedToArray2.default)(_ref3, 2);\n          var key = _ref4[0];\n          var element = _ref4[1];\n          toAdapt[key] = cloneRecursive(element);\n        }\n        return _makeShareableClone(toAdapt);\n      }\n      return _makeShareableClone(value);\n    }\n    return cloneRecursive(value);\n  };\n  makeShareableCloneOnUIRecursive.__closure = {\n    USE_STUB_IMPLEMENTATION: USE_STUB_IMPLEMENTATION,\n    isHostObject: isHostObject,\n    isRemoteFunction: isRemoteFunction\n  };\n  makeShareableCloneOnUIRecursive.__workletHash = 6696410489807;\n  makeShareableCloneOnUIRecursive.__initData = _worklet_6696410489807_init_data;\n  makeShareableCloneOnUIRecursive.__stackDetails = _e;\n  return makeShareableCloneOnUIRecursive;\n}();\nvar _worklet_15913789835932_init_data = {\n  code: \"function anonymous(){const{value}=this.__closure;return value;}\",\n  location: \"D:\\\\course\\\\ReactNative\\\\Tasks\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\reanimated2\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"value\\\",\\\"__closure\\\"],\\\"sources\\\":[\\\"D:/course/ReactNative/Tasks/node_modules/react-native-reanimated/lib/module/reanimated2/shareables.js\\\"],\\\"mappings\\\":\\\"AAqRY,SAAAA,SAAMA,CAAA,QAAAC,KAAA,OAAAC,SAAA,CAGZ,MAAO,CAAAD,KAAK,CACd\\\"}\",\n  version: \"3.6.1\"\n};\nfunction makeShareable(value) {\n  if (USE_STUB_IMPLEMENTATION) {\n    return value;\n  }\n  var handle = makeShareableCloneRecursive({\n    __init: function () {\n      var _e = [new global.Error(), -2, -27];\n      var anonymous = function anonymous() {\n        return value;\n      };\n      anonymous.__closure = {\n        value: value\n      };\n      anonymous.__workletHash = 15913789835932;\n      anonymous.__initData = _worklet_15913789835932_init_data;\n      anonymous.__stackDetails = _e;\n      return anonymous;\n    }()\n  });\n  registerShareableMapping(value, handle);\n  return value;\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","makeShareable","makeShareableCloneOnUIRecursive","makeShareableCloneRecursive","registerShareableMapping","_slicedToArray2","_NativeReanimated","_PlatformChecker","_errors","_jsVersion","USE_STUB_IMPLEMENTATION","shouldBeUseWeb","_shareableCache","WeakMap","_shareableFlag","Symbol","MAGIC_KEY","_worklet_6457566696199_init_data","code","location","sourceMap","version","isHostObject","_e","global","Error","__closure","__workletHash","__initData","__stackDetails","shareable","shareableRef","set","isPlainJSObject","object","getPrototypeOf","prototype","_worklet_17186589908483_init_data","INACCESSIBLE_OBJECT","__init","anonymous","Proxy","get","_","prop","String","VALID_ARRAY_VIEWS_NAMES","DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD","processedObjectAtThresholdDepth","shouldWarnAboutMissingPluginVersion","_worklet_17031627990684_init_data","_worklet_7802327914260_init_data","shouldPersistRemote","arguments","length","undefined","depth","type","isTypeObject","isTypeFunction","cached","toAdapt","Array","isArray","map","element","__DEV__","babelVersion","console","warn","getWorkletCode","jsVersion","registerWorkletStackDetails","_ref","entries","_ref2","default","key","RegExp","pattern","source","flags","handle","ArrayBuffer","isView","buffer","constructor","name","includes","_type","inaccessibleObject","freeze","adopted","NativeReanimatedModule","makeShareableClone","WORKLET_CODE_THRESHOLD","_value$__initData","substring","_worklet_11770591563495_init_data","isRemoteFunction","__remoteFunction","_worklet_6696410489807_init_data","cloneRecursive","_makeShareableClone","_ref3","_ref4","_worklet_15913789835932_init_data"],"sources":["D:\\course\\ReactNative\\Tasks\\node_modules\\react-native-reanimated\\lib\\module\\reanimated2\\shareables.ts"],"sourcesContent":["'use strict';\nimport NativeReanimatedModule from './NativeReanimated';\nimport type {\n  ShareableRef,\n  FlatShareableRef,\n  __WorkletFunction,\n} from './commonTypes';\nimport { shouldBeUseWeb } from './PlatformChecker';\nimport { registerWorkletStackDetails } from './errors';\nimport { jsVersion } from './platform-specific/jsVersion';\n\n// for web/chrome debugger/jest environments this file provides a stub implementation\n// where no shareable references are used. Instead, the objects themselves are used\n// instead of shareable references, because of the fact that we don't have to deal with\n// runnning the code on separate VMs.\nconst USE_STUB_IMPLEMENTATION = shouldBeUseWeb();\n\nconst _shareableCache = new WeakMap<\n  Record<string, unknown>,\n  ShareableRef<unknown> | symbol\n>();\n// the below symbol is used to represent a mapping from the value to itself\n// this is used to allow for a converted shareable to be passed to makeShareableClone\nconst _shareableFlag = Symbol('shareable flag');\n\nconst MAGIC_KEY = 'REANIMATED_MAGIC_KEY';\n\nfunction isHostObject(value: NonNullable<object>) {\n  'worklet';\n  // We could use JSI to determine whether an object is a host object, however\n  // the below workaround works well and is way faster than an additional JSI call.\n  // We use the fact that host objects have broken implementation of `hasOwnProperty`\n  // and hence return true for all `in` checks regardless of the key we ask for.\n  return MAGIC_KEY in value;\n}\n\nexport function registerShareableMapping(\n  shareable: any,\n  shareableRef?: ShareableRef<unknown>\n): void {\n  if (USE_STUB_IMPLEMENTATION) {\n    return;\n  }\n  _shareableCache.set(shareable, shareableRef || _shareableFlag);\n}\n\nfunction isPlainJSObject(object: object) {\n  return Object.getPrototypeOf(object) === Object.prototype;\n}\n\n// The below object is used as a replacement for objects that cannot be transferred\n// as shareable values. In makeShareableCloneRecursive we detect if an object is of\n// a plain Object.prototype and only allow such objects to be transferred. This lets\n// us avoid all sorts of react internals from leaking into the UI runtime. To make it\n// possible to catch errors when someone actually tries to access such object on the UI\n// runtime, we use the below Proxy object which is instantiated on the UI runtime and\n// throws whenever someone tries to access its fields.\nconst INACCESSIBLE_OBJECT = {\n  __init: () => {\n    'worklet';\n    return new Proxy(\n      {},\n      {\n        get: (_: any, prop: string | symbol) => {\n          if (\n            prop === '_isReanimatedSharedValue' ||\n            prop === '__remoteFunction'\n          ) {\n            // not very happy about this check here, but we need to allow for\n            // \"inaccessible\" objects to be tested with isSharedValue check\n            // as it is being used in the mappers when extracting inputs recursively\n            // as well as with isRemoteFunction when cloning objects recursively.\n            // Apparently we can't check if a key exists there as HostObjects always\n            // return true for such tests, so the only possibility for us is to\n            // actually access that key and see if it is set to true. We therefore\n            // need to allow for this key to be accessed here.\n            return false;\n          }\n          throw new Error(\n            `[Reanimated] Trying to access property \\`${String(\n              prop\n            )}\\` of an object which cannot be sent to the UI runtime.`\n          );\n        },\n        set: () => {\n          throw new Error(\n            '[Reanimated] Trying to write to an object which cannot be sent to the UI runtime.'\n          );\n        },\n      }\n    );\n  },\n};\n\nconst VALID_ARRAY_VIEWS_NAMES = [\n  'Int8Array',\n  'Uint8Array',\n  'Uint8ClampedArray',\n  'Int16Array',\n  'Uint16Array',\n  'Int32Array',\n  'Uint32Array',\n  'Float32Array',\n  'Float64Array',\n  'BigInt64Array',\n  'BigUint64Array',\n  'DataView',\n];\n\nconst DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD = 30;\n// Below variable stores object that we process in makeShareableCloneRecursive at the specified depth.\n// We use it to check if later on the function reenters with the same object\nlet processedObjectAtThresholdDepth: unknown;\n\nlet shouldWarnAboutMissingPluginVersion = true;\n\nexport function makeShareableCloneRecursive<T>(\n  value: any,\n  shouldPersistRemote = false,\n  depth = 0\n): ShareableRef<T> {\n  if (USE_STUB_IMPLEMENTATION) {\n    return value;\n  }\n  if (depth >= DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n    // if we reach certain recursion depth we suspect that we are dealing with a cyclic object.\n    // this type of objects are not supported and cannot be trasferred as shareable, so we\n    // implement a simple detection mechanism that remembers the value at a given depth and\n    // tests whether we try reenter this method later on with the same value. If that happens\n    // we throw an appropriate error.\n    if (depth === DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n      processedObjectAtThresholdDepth = value;\n    } else if (value === processedObjectAtThresholdDepth) {\n      throw new Error(\n        '[Reanimated] Trying to convert a cyclic object to a shareable. This is not supported.'\n      );\n    }\n  } else {\n    processedObjectAtThresholdDepth = undefined;\n  }\n  // This one actually may be worth to be moved to c++, we also need similar logic to run on the UI thread\n  const type = typeof value;\n  const isTypeObject = type === 'object';\n  const isTypeFunction = type === 'function';\n  if ((isTypeObject || isTypeFunction) && value !== null) {\n    const cached = _shareableCache.get(value);\n    if (cached === _shareableFlag) {\n      return value;\n    } else if (cached !== undefined) {\n      return cached as ShareableRef<T>;\n    } else {\n      let toAdapt: any;\n      if (Array.isArray(value)) {\n        toAdapt = value.map((element) =>\n          makeShareableCloneRecursive(element, shouldPersistRemote, depth + 1)\n        );\n      } else if (isTypeFunction && value.__workletHash === undefined) {\n        // this is a remote function\n        toAdapt = value;\n      } else if (isHostObject(value)) {\n        // for host objects we pass the reference to the object as shareable and\n        // then recreate new host object wrapping the same instance on the UI thread.\n        // there is no point of iterating over keys as we do for regular objects.\n        toAdapt = value;\n      } else if (isPlainJSObject(value) || isTypeFunction) {\n        toAdapt = {};\n        if (value.__workletHash !== undefined) {\n          // we are converting a worklet\n          if (__DEV__) {\n            const babelVersion = value.__initData.version;\n            if (babelVersion === undefined) {\n              if (shouldWarnAboutMissingPluginVersion) {\n                shouldWarnAboutMissingPluginVersion = false;\n                console.warn(`[Reanimated] Unknown version of Reanimated Babel plugin.\n              See \\`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#unknown-version-of-reanimated-babel-plugin\\` for more details.\n              Offending code was: \\`${getWorkletCode(value)}\\``);\n              }\n            } else if (babelVersion !== jsVersion) {\n              throw new Error(`[Reanimated] Mismatch between JavaScript code version and Reanimated Babel plugin version (${jsVersion} vs. ${babelVersion}).        \nSee \\`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#mismatch-between-javascript-code-version-and-reanimated-babel-plugin-version\\` for more details.\nOffending code was: \\`${getWorkletCode(value)}\\``);\n            }\n            registerWorkletStackDetails(\n              value.__workletHash,\n              value.__stackDetails\n            );\n          }\n          if (value.__stackDetails) {\n            // `Error` type of value cannot be copied to the UI thread, so we\n            // remove it after we handled it in dev mode or delete it to ignore it in production mode.\n            // Not removing this would cause an infinite loop in production mode and it just\n            // seems more elegant to handle it this way.\n            delete value.__stackDetails;\n          }\n          // to save on transferring static __initData field of worklet structure\n          // we request shareable value to persist its UI counterpart. This means\n          // that the __initData field that contains long strings represeting the\n          // worklet code, source map, and location, will always be\n          // serialized/deserialized once.\n          toAdapt.__initData = makeShareableCloneRecursive(\n            value.__initData,\n            true,\n            depth + 1\n          );\n        }\n\n        for (const [key, element] of Object.entries(value)) {\n          if (key === '__initData' && toAdapt.__initData !== undefined) {\n            continue;\n          }\n          toAdapt[key] = makeShareableCloneRecursive(\n            element,\n            shouldPersistRemote,\n            depth + 1\n          );\n        }\n      } else if (value instanceof RegExp) {\n        const pattern = value.source;\n        const flags = value.flags;\n        const handle = makeShareableCloneRecursive({\n          __init: () => {\n            'worklet';\n            return new RegExp(pattern, flags);\n          },\n        });\n        registerShareableMapping(value, handle);\n        return handle as ShareableRef<T>;\n      } else if (value instanceof ArrayBuffer) {\n        toAdapt = value;\n      } else if (ArrayBuffer.isView(value)) {\n        // typed array (e.g. Int32Array, Uint8ClampedArray) or DataView\n        const buffer = value.buffer;\n        const type = value.constructor.name;\n        const handle = makeShareableCloneRecursive({\n          __init: () => {\n            'worklet';\n            if (!VALID_ARRAY_VIEWS_NAMES.includes(type)) {\n              throw new Error(\n                `[Reanimated] Invalid array view name \\`${type}\\`.`\n              );\n            }\n            const constructor = global[type as keyof typeof global];\n            if (constructor === undefined) {\n              throw new Error(\n                `[Reanimated] Constructor for \\`${type}\\` not found.`\n              );\n            }\n            return new constructor(buffer);\n          },\n        });\n        registerShareableMapping(value, handle);\n        return handle as ShareableRef<T>;\n      } else {\n        // This is reached for object types that are not of plain Object.prototype.\n        // We don't support such objects from being transferred as shareables to\n        // the UI runtime and hence we replace them with \"inaccessible object\"\n        // which is implemented as a Proxy object that throws on any attempt\n        // of accessing its fields. We argue that such objects can sometimes leak\n        // as attributes of objects being captured by worklets but should never\n        // be used on the UI runtime regardless. If they are being accessed, the user\n        // will get an appropriate error message.\n        const inaccessibleObject =\n          makeShareableCloneRecursive<T>(INACCESSIBLE_OBJECT);\n        _shareableCache.set(value, inaccessibleObject);\n        return inaccessibleObject;\n      }\n      if (__DEV__) {\n        // we freeze objects that are transformed to shareable. This should help\n        // detect issues when someone modifies data after it's been converted to\n        // shareable. Meaning that they may be doing a faulty assumption in their\n        // code expecting that the updates are going to automatically populate to\n        // the object sent to the UI thread. If the user really wants some objects\n        // to be mutable they should use shared values instead.\n        Object.freeze(value);\n      }\n      const adopted = NativeReanimatedModule.makeShareableClone(\n        toAdapt,\n        shouldPersistRemote\n      );\n      _shareableCache.set(value, adopted);\n      _shareableCache.set(adopted, _shareableFlag);\n      return adopted;\n    }\n  }\n  return NativeReanimatedModule.makeShareableClone(value, shouldPersistRemote);\n}\n\nconst WORKLET_CODE_THRESHOLD = 255;\n\nfunction getWorkletCode(value: __WorkletFunction) {\n  // @ts-ignore this is fine\n  const code = value?.__initData?.code;\n  if (!code) {\n    return 'unknown';\n  }\n  if (code.length > WORKLET_CODE_THRESHOLD) {\n    return `${code.substring(0, WORKLET_CODE_THRESHOLD)}...`;\n  }\n  return code;\n}\n\ntype RemoteFunction<T> = {\n  __remoteFunction: FlatShareableRef<T>;\n};\n\nfunction isRemoteFunction<T>(value: {\n  __remoteFunction?: unknown;\n}): value is RemoteFunction<T> {\n  'worklet';\n  return !!value.__remoteFunction;\n}\n\nexport function makeShareableCloneOnUIRecursive<T>(\n  value: T\n): FlatShareableRef<T> {\n  'worklet';\n  if (USE_STUB_IMPLEMENTATION) {\n    // @ts-ignore web is an interesting place where we don't run a secondary VM on the UI thread\n    // see more details in the comment where USE_STUB_IMPLEMENTATION is defined.\n    return value;\n  }\n  function cloneRecursive<T>(value: T): FlatShareableRef<T> {\n    if (\n      (typeof value === 'object' && value !== null) ||\n      typeof value === 'function'\n    ) {\n      if (isHostObject(value)) {\n        // We call `_makeShareableClone` to wrap the provided HostObject\n        // inside ShareableJSRef.\n        return _makeShareableClone(value) as FlatShareableRef<T>;\n      }\n      if (isRemoteFunction<T>(value)) {\n        // RemoteFunctions are created by us therefore they are\n        // a Shareable out of the box and there is no need to\n        // call `_makeShareableClone`.\n        return value.__remoteFunction;\n      }\n      if (Array.isArray(value)) {\n        return _makeShareableClone(\n          value.map(cloneRecursive)\n        ) as FlatShareableRef<T>;\n      }\n      const toAdapt: Record<string, FlatShareableRef<T>> = {};\n      for (const [key, element] of Object.entries(value)) {\n        toAdapt[key] = cloneRecursive<T>(element);\n      }\n      return _makeShareableClone(toAdapt) as FlatShareableRef<T>;\n    }\n    return _makeShareableClone(value);\n  }\n  return cloneRecursive(value);\n}\n\nexport function makeShareable<T>(value: T): T {\n  if (USE_STUB_IMPLEMENTATION) {\n    return value;\n  }\n  const handle = makeShareableCloneRecursive({\n    __init: () => {\n      'worklet';\n      return value;\n    },\n  });\n  registerShareableMapping(value, handle);\n  return value;\n}\n"],"mappings":"AAAA,YAAY;;AAAA,IAAAA,sBAAA,GAAAC,OAAA;AAAAC,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,aAAA,GAAAA,aAAA;AAAAF,OAAA,CAAAG,+BAAA;AAAAH,OAAA,CAAAI,2BAAA,GAAAA,2BAAA;AAAAJ,OAAA,CAAAK,wBAAA,GAAAA,wBAAA;AAAA,IAAAC,eAAA,GAAAV,sBAAA,CAAAC,OAAA;AACZ,IAAAU,iBAAA,GAAAX,sBAAA,CAAAC,OAAA;AAMA,IAAAW,gBAAA,GAAAX,OAAA;AACA,IAAAY,OAAA,GAAAZ,OAAA;AACA,IAAAa,UAAA,GAAAb,OAAA;AAMA,IAAMc,uBAAuB,GAAG,IAAAC,+BAAc,GAAE;AAEhD,IAAMC,eAAe,GAAG,IAAIC,OAAO,EAGhC;AAGH,IAAMC,cAAc,GAAGC,MAAM,CAAC,gBAAgB,CAAC;AAE/C,IAAMC,SAAS,GAAG,sBAAsB;AAAA,IAAAC,gCAAA;EAAAC,IAAA;EAAAC,QAAA;EAAAC,SAAA;EAAAC,OAAA;AAAA;AAAA,IAE/BC,YAAY,GAArB;EAAA,IAAAC,EAAA,QAAAC,MAAA,CAAAC,KAAA;EAAA,IAAAH,YAAA,YAAAA,aAAsBtB,KAA0B,EAAE;IAMhD,OAAOgB,SAAS,IAAIhB,KAAK;EAC3B;EAAAsB,YAAA,CAAAI,SAAA;IAAAV,SAAA,EADSA;EAAS;EAAAM,YAAA,CAAAK,aAAA;EAAAL,YAAA,CAAAM,UAAA,GAAAX,gCAAA;EAAAK,YAAA,CAAAO,cAAA,GAAAN,EAAA;EAAA,OAAAD,YAAA;AAAA,CANlB;AASO,SAASlB,wBAAwBA,CACtC0B,SAAc,EACdC,YAAoC,EAC9B;EACN,IAAIrB,uBAAuB,EAAE;IAC3B;EACF;EACAE,eAAe,CAACoB,GAAG,CAACF,SAAS,EAAEC,YAAY,IAAIjB,cAAc,CAAC;AAChE;AAEA,SAASmB,eAAeA,CAACC,MAAc,EAAE;EACvC,OAAOrC,MAAM,CAACsC,cAAc,CAACD,MAAM,CAAC,KAAKrC,MAAM,CAACuC,SAAS;AAC3D;AAAA,IAAAC,iCAAA;EAAAnB,IAAA;EAAAC,QAAA;EAAAC,SAAA;EAAAC,OAAA;AAAA;AASA,IAAMiB,mBAAmB,GAAG;EAC1BC,MAAM,EAAE;IAAA,IAAAhB,EAAA,QAAAC,MAAA,CAAAC,KAAA;IAAA,IAAAe,SAAA,YAAAA,UAAA,EAAM;MAEZ,OAAO,IAAIC,KAAK,CACd,CAAC,CAAC,EACF;QACEC,GAAG,EAAE,SAAAA,IAACC,CAAM,EAAEC,IAAqB,EAAK;UACtC,IACEA,IAAI,KAAK,0BAA0B,IACnCA,IAAI,KAAK,kBAAkB,EAC3B;YASA,OAAO,KAAK;UACd;UACA,MAAM,IAAInB,KAAK,CACZ,4CAA2CoB,MAAM,CAChDD,IAAI,CACJ,yDAAwD,CAC3D;QACH,CAAC;QACDZ,GAAG,EAAE,SAAAA,IAAA,EAAM;UACT,MAAM,IAAIP,KAAK,CACb,mFAAmF,CACpF;QACH;MACF,CAAC,CACF;IACH;IAAAe,SAAA,CAAAd,SAAA;IAAAc,SAAA,CAAAb,aAAA;IAAAa,SAAA,CAAAZ,UAAA,GAAAS,iCAAA;IAAAG,SAAA,CAAAX,cAAA,GAAAN,EAAA;IAAA,OAAAiB,SAAA;EAAA,CAjCQ;AAkCV,CAAC;AAED,IAAMM,uBAAuB,GAAG,CAC9B,WAAW,EACX,YAAY,EACZ,mBAAmB,EACnB,YAAY,EACZ,aAAa,EACb,YAAY,EACZ,aAAa,EACb,cAAc,EACd,cAAc,EACd,eAAe,EACf,gBAAgB,EAChB,UAAU,CACX;AAED,IAAMC,oCAAoC,GAAG,EAAE;AAG/C,IAAIC,+BAAwC;AAE5C,IAAIC,mCAAmC,GAAG,IAAI;AAAA,IAAAC,iCAAA;EAAAhC,IAAA;EAAAC,QAAA;EAAAC,SAAA;EAAAC,OAAA;AAAA;AAAA,IAAA8B,gCAAA;EAAAjC,IAAA;EAAAC,QAAA;EAAAC,SAAA;EAAAC,OAAA;AAAA;AAEvC,SAASlB,2BAA2BA,CACzCH,KAAU,EAGO;EAAA,IAFjBoD,mBAAmB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EAAA,IAC3BG,KAAK,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAET,IAAI3C,uBAAuB,EAAE;IAC3B,OAAOV,KAAK;EACd;EACA,IAAIwD,KAAK,IAAIT,oCAAoC,EAAE;IAMjD,IAAIS,KAAK,KAAKT,oCAAoC,EAAE;MAClDC,+BAA+B,GAAGhD,KAAK;IACzC,CAAC,MAAM,IAAIA,KAAK,KAAKgD,+BAA+B,EAAE;MACpD,MAAM,IAAIvB,KAAK,CACb,uFAAuF,CACxF;IACH;EACF,CAAC,MAAM;IACLuB,+BAA+B,GAAGO,SAAS;EAC7C;EAEA,IAAME,IAAI,GAAG,OAAOzD,KAAK;EACzB,IAAM0D,YAAY,GAAGD,IAAI,KAAK,QAAQ;EACtC,IAAME,cAAc,GAAGF,IAAI,KAAK,UAAU;EAC1C,IAAI,CAACC,YAAY,IAAIC,cAAc,KAAK3D,KAAK,KAAK,IAAI,EAAE;IACtD,IAAM4D,MAAM,GAAGhD,eAAe,CAAC8B,GAAG,CAAC1C,KAAK,CAAC;IACzC,IAAI4D,MAAM,KAAK9C,cAAc,EAAE;MAC7B,OAAOd,KAAK;IACd,CAAC,MAAM,IAAI4D,MAAM,KAAKL,SAAS,EAAE;MAC/B,OAAOK,MAAM;IACf,CAAC,MAAM;MACL,IAAIC,OAAY;MAChB,IAAIC,KAAK,CAACC,OAAO,CAAC/D,KAAK,CAAC,EAAE;QACxB6D,OAAO,GAAG7D,KAAK,CAACgE,GAAG,CAAE,UAAAC,OAAO;UAAA,OAC1B9D,2BAA2B,CAAC8D,OAAO,EAAEb,mBAAmB,EAAEI,KAAK,GAAG,CAAC,CAAC;QAAA,EACrE;MACH,CAAC,MAAM,IAAIG,cAAc,IAAI3D,KAAK,CAAC2B,aAAa,KAAK4B,SAAS,EAAE;QAE9DM,OAAO,GAAG7D,KAAK;MACjB,CAAC,MAAM,IAAIsB,YAAY,CAACtB,KAAK,CAAC,EAAE;QAI9B6D,OAAO,GAAG7D,KAAK;MACjB,CAAC,MAAM,IAAIiC,eAAe,CAACjC,KAAK,CAAC,IAAI2D,cAAc,EAAE;QACnDE,OAAO,GAAG,CAAC,CAAC;QACZ,IAAI7D,KAAK,CAAC2B,aAAa,KAAK4B,SAAS,EAAE;UAErC,IAAIW,OAAO,EAAE;YACX,IAAMC,YAAY,GAAGnE,KAAK,CAAC4B,UAAU,CAACP,OAAO;YAC7C,IAAI8C,YAAY,KAAKZ,SAAS,EAAE;cAC9B,IAAIN,mCAAmC,EAAE;gBACvCA,mCAAmC,GAAG,KAAK;gBAC3CmB,OAAO,CAACC,IAAI,CAAE;AAC9B;AACA,sCAAsCC,cAAc,CAACtE,KAAK,CAAE,IAAG,CAAC;cAClD;YACF,CAAC,MAAM,IAAImE,YAAY,KAAKI,oBAAS,EAAE;cACrC,MAAM,IAAI9C,KAAK,CAAE,8FAA6F8C,oBAAU,QAAOJ,YAAa;AAC1J;AACA,wBAAwBG,cAAc,CAACtE,KAAK,CAAE,IAAG,CAAC;YACtC;YACA,IAAAwE,mCAA2B,EACzBxE,KAAK,CAAC2B,aAAa,EACnB3B,KAAK,CAAC6B,cAAc,CACrB;UACH;UACA,IAAI7B,KAAK,CAAC6B,cAAc,EAAE;YAKxB,OAAO7B,KAAK,CAAC6B,cAAc;UAC7B;UAMAgC,OAAO,CAACjC,UAAU,GAAGzB,2BAA2B,CAC9CH,KAAK,CAAC4B,UAAU,EAChB,IAAI,EACJ4B,KAAK,GAAG,CAAC,CACV;QACH;QAEA,SAAAiB,IAAA,IAA6B5E,MAAM,CAAC6E,OAAO,CAAC1E,KAAK,CAAC,EAAE;UAAA,IAAA2E,KAAA,OAAAtE,eAAA,CAAAuE,OAAA,EAAAH,IAAA;UAAA,IAAxCI,GAAG,GAAAF,KAAA;UAAA,IAAEV,OAAO,GAAAU,KAAA;UACtB,IAAIE,GAAG,KAAK,YAAY,IAAIhB,OAAO,CAACjC,UAAU,KAAK2B,SAAS,EAAE;YAC5D;UACF;UACAM,OAAO,CAACgB,GAAG,CAAC,GAAG1E,2BAA2B,CACxC8D,OAAO,EACPb,mBAAmB,EACnBI,KAAK,GAAG,CAAC,CACV;QACH;MACF,CAAC,MAAM,IAAIxD,KAAK,YAAY8E,MAAM,EAAE;QAClC,IAAMC,OAAO,GAAG/E,KAAK,CAACgF,MAAM;QAC5B,IAAMC,KAAK,GAAGjF,KAAK,CAACiF,KAAK;QACzB,IAAMC,MAAM,GAAG/E,2BAA2B,CAAC;UACzCoC,MAAM,EAAE;YAAA,IAAAhB,EAAA,QAAAC,MAAA,CAAAC,KAAA;YAAA,IAAAe,SAAA,YAAAA,UAAA,EAAM;cAEZ,OAAO,IAAIsC,MAAM,CAACC,OAAO,EAAEE,KAAK,CAAC;YACnC;YAAAzC,SAAA,CAAAd,SAAA;cAAAqD,OAAA,EADoBA,OAAO;cAAAE,KAAA,EAAEA;YAAK;YAAAzC,SAAA,CAAAb,aAAA;YAAAa,SAAA,CAAAZ,UAAA,GAAAsB,iCAAA;YAAAV,SAAA,CAAAX,cAAA,GAAAN,EAAA;YAAA,OAAAiB,SAAA;UAAA,CAF1B;QAIV,CAAC,CAAC;QACFpC,wBAAwB,CAACJ,KAAK,EAAEkF,MAAM,CAAC;QACvC,OAAOA,MAAM;MACf,CAAC,MAAM,IAAIlF,KAAK,YAAYmF,WAAW,EAAE;QACvCtB,OAAO,GAAG7D,KAAK;MACjB,CAAC,MAAM,IAAImF,WAAW,CAACC,MAAM,CAACpF,KAAK,CAAC,EAAE;QAEpC,IAAMqF,MAAM,GAAGrF,KAAK,CAACqF,MAAM;QAC3B,IAAM5B,KAAI,GAAGzD,KAAK,CAACsF,WAAW,CAACC,IAAI;QACnC,IAAML,OAAM,GAAG/E,2BAA2B,CAAC;UACzCoC,MAAM,EAAE;YAAA,IAAAhB,EAAA,QAAAC,MAAA,CAAAC,KAAA;YAAA,IAAAe,SAAA,YAAAA,UAAA,EAAM;cAEZ,IAAI,CAACM,uBAAuB,CAAC0C,QAAQ,CAAC/B,KAAI,CAAC,EAAE;gBAC3C,MAAM,IAAIhC,KAAK,CACZ,0CAAyCgC,KAAK,KAAI,CACpD;cACH;cACA,IAAM6B,WAAW,GAAG9D,MAAM,CAACiC,KAAI,CAAwB;cACvD,IAAI6B,WAAW,KAAK/B,SAAS,EAAE;gBAC7B,MAAM,IAAI9B,KAAK,CACZ,kCAAiCgC,KAAK,eAAc,CACtD;cACH;cACA,OAAO,IAAI6B,WAAW,CAACD,MAAM,CAAC;YAChC;YAAA7C,SAAA,CAAAd,SAAA;cAAAoB,uBAAA,EAZOA,uBAAuB;cAAA2C,KAAA,EAAUhC,KAAI;cAAA4B,MAAA,EAWnBA;YAAM;YAAA7C,SAAA,CAAAb,aAAA;YAAAa,SAAA,CAAAZ,UAAA,GAAAuB,gCAAA;YAAAX,SAAA,CAAAX,cAAA,GAAAN,EAAA;YAAA,OAAAiB,SAAA;UAAA,CAbvB;QAeV,CAAC,CAAC;QACFpC,wBAAwB,CAACJ,KAAK,EAAEkF,OAAM,CAAC;QACvC,OAAOA,OAAM;MACf,CAAC,MAAM;QASL,IAAMQ,kBAAkB,GACtBvF,2BAA2B,CAAImC,mBAAmB,CAAC;QACrD1B,eAAe,CAACoB,GAAG,CAAChC,KAAK,EAAE0F,kBAAkB,CAAC;QAC9C,OAAOA,kBAAkB;MAC3B;MACA,IAAIxB,OAAO,EAAE;QAOXrE,MAAM,CAAC8F,MAAM,CAAC3F,KAAK,CAAC;MACtB;MACA,IAAM4F,OAAO,GAAGC,yBAAsB,CAACC,kBAAkB,CACvDjC,OAAO,EACPT,mBAAmB,CACpB;MACDxC,eAAe,CAACoB,GAAG,CAAChC,KAAK,EAAE4F,OAAO,CAAC;MACnChF,eAAe,CAACoB,GAAG,CAAC4D,OAAO,EAAE9E,cAAc,CAAC;MAC5C,OAAO8E,OAAO;IAChB;EACF;EACA,OAAOC,yBAAsB,CAACC,kBAAkB,CAAC9F,KAAK,EAAEoD,mBAAmB,CAAC;AAC9E;AAEA,IAAM2C,sBAAsB,GAAG,GAAG;AAElC,SAASzB,cAAcA,CAACtE,KAAwB,EAAE;EAAA,IAAAgG,iBAAA;EAEhD,IAAM9E,IAAI,GAAGlB,KAAK,aAALA,KAAK,wBAAAgG,iBAAA,GAALhG,KAAK,CAAE4B,UAAU,cAAAoE,iBAAA,uBAAjBA,iBAAA,CAAmB9E,IAAI;EACpC,IAAI,CAACA,IAAI,EAAE;IACT,OAAO,SAAS;EAClB;EACA,IAAIA,IAAI,CAACoC,MAAM,GAAGyC,sBAAsB,EAAE;IACxC,OAAQ,GAAE7E,IAAI,CAAC+E,SAAS,CAAC,CAAC,EAAEF,sBAAsB,CAAE,KAAI;EAC1D;EACA,OAAO7E,IAAI;AACb;AAAA,IAAAgF,iCAAA;EAAAhF,IAAA;EAAAC,QAAA;EAAAC,SAAA;EAAAC,OAAA;AAAA;AAAA,IAMS8E,gBAAgB,GAAzB;EAAA,IAAA5E,EAAA,QAAAC,MAAA,CAAAC,KAAA;EAAA,IAAA0E,gBAAA,YAAAA,iBAA6BnG,KAE5B,EAA8B;IAE7B,OAAO,CAAC,CAACA,KAAK,CAACoG,gBAAgB;EACjC;EAAAD,gBAAA,CAAAzE,SAAA;EAAAyE,gBAAA,CAAAxE,aAAA;EAAAwE,gBAAA,CAAAvE,UAAA,GAAAsE,iCAAA;EAAAC,gBAAA,CAAAtE,cAAA,GAAAN,EAAA;EAAA,OAAA4E,gBAAA;AAAA,CALA;AAAA,IAAAE,gCAAA;EAAAnF,IAAA;EAAAC,QAAA;EAAAC,SAAA;EAAAC,OAAA;AAAA;AAAA,IAOgBnB,+BAA+B,GAAAH,OAAA,CAAAG,+BAAA,GAAxC;EAAA,IAAAqB,EAAA,QAAAC,MAAA,CAAAC,KAAA;EAAA,IAAAvB,+BAAA,YAAAA,gCACLF,KAAQ,EACa;IAErB,IAAIU,uBAAuB,EAAE;MAG3B,OAAOV,KAAK;IACd;IACA,SAASsG,cAAcA,CAAItG,KAAQ,EAAuB;MACxD,IACG,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,IAC5C,OAAOA,KAAK,KAAK,UAAU,EAC3B;QACA,IAAIsB,YAAY,CAACtB,KAAK,CAAC,EAAE;UAGvB,OAAOuG,mBAAmB,CAACvG,KAAK,CAAC;QACnC;QACA,IAAImG,gBAAgB,CAAInG,KAAK,CAAC,EAAE;UAI9B,OAAOA,KAAK,CAACoG,gBAAgB;QAC/B;QACA,IAAItC,KAAK,CAACC,OAAO,CAAC/D,KAAK,CAAC,EAAE;UACxB,OAAOuG,mBAAmB,CACxBvG,KAAK,CAACgE,GAAG,CAACsC,cAAc,CAAC,CAC1B;QACH;QACA,IAAMzC,OAA4C,GAAG,CAAC,CAAC;QACvD,SAAA2C,KAAA,IAA6B3G,MAAM,CAAC6E,OAAO,CAAC1E,KAAK,CAAC,EAAE;UAAA,IAAAyG,KAAA,OAAApG,eAAA,CAAAuE,OAAA,EAAA4B,KAAA;UAAA,IAAxC3B,GAAG,GAAA4B,KAAA;UAAA,IAAExC,OAAO,GAAAwC,KAAA;UACtB5C,OAAO,CAACgB,GAAG,CAAC,GAAGyB,cAAc,CAAIrC,OAAO,CAAC;QAC3C;QACA,OAAOsC,mBAAmB,CAAC1C,OAAO,CAAC;MACrC;MACA,OAAO0C,mBAAmB,CAACvG,KAAK,CAAC;IACnC;IACA,OAAOsG,cAAc,CAACtG,KAAK,CAAC;EAC9B;EAAAE,+BAAA,CAAAwB,SAAA;IAAAhB,uBAAA,EAnCMA,uBAAuB;IAAAY,YAAA,EAUnBA,YAAY;IAAA6E,gBAAA,EAKZA;EAAgB;EAAAjG,+BAAA,CAAAyB,aAAA;EAAAzB,+BAAA,CAAA0B,UAAA,GAAAyE,gCAAA;EAAAnG,+BAAA,CAAA2B,cAAA,GAAAN,EAAA;EAAA,OAAArB,+BAAA;AAAA,CAnBnB;AAAA,IAAAwG,iCAAA;EAAAxF,IAAA;EAAAC,QAAA;EAAAC,SAAA;EAAAC,OAAA;AAAA;AAyCA,SAASpB,aAAaA,CAAID,KAAQ,EAAK;EAC5C,IAAIU,uBAAuB,EAAE;IAC3B,OAAOV,KAAK;EACd;EACA,IAAMkF,MAAM,GAAG/E,2BAA2B,CAAC;IACzCoC,MAAM,EAAE;MAAA,IAAAhB,EAAA,QAAAC,MAAA,CAAAC,KAAA;MAAA,IAAAe,SAAA,YAAAA,UAAA,EAAM;QAEZ,OAAOxC,KAAK;MACd;MAAAwC,SAAA,CAAAd,SAAA;QAAA1B,KAAA,EADSA;MAAK;MAAAwC,SAAA,CAAAb,aAAA;MAAAa,SAAA,CAAAZ,UAAA,GAAA8E,iCAAA;MAAAlE,SAAA,CAAAX,cAAA,GAAAN,EAAA;MAAA,OAAAiB,SAAA;IAAA,CAFN;EAIV,CAAC,CAAC;EACFpC,wBAAwB,CAACJ,KAAK,EAAEkF,MAAM,CAAC;EACvC,OAAOlF,KAAK;AACd"},"metadata":{},"sourceType":"script","externalDependencies":[]}